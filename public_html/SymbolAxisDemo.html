<!DOCTYPE html>
<html>
    <head>
        <title>Scatter Plot with a Log Axis</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <script type="text/javascript" src="src/JSFreeChart.js"></script>
        <script type="text/javascript" src="src/Charts.js"></script>
        <script type="text/javascript" src="src/ChartManager.js"></script>
        <script type="text/javascript" src="src/Args.js"></script>
        <script type="text/javascript" src="src/Utils.js"></script>
        <script type="text/javascript" src="src/util/LogFormat.js"></script>
        <script type="text/javascript" src="src/util/NumberFormat.js"></script>
        <script type="text/javascript" src="src/axis/AxisSpace.js"></script>
        <script type="text/javascript" src="src/axis/BaseValueAxis.js"></script>
        <script type="text/javascript" src="src/axis/LabelOrientation.js"></script>
        <script type="text/javascript" src="src/axis/NumberTickSelector.js"></script>
        <script type="text/javascript" src="src/axis/TickMark.js"></script>
        <script type="text/javascript" src="src/data/DatasetUtils.js"></script>
        <script type="text/javascript" src="src/data/Map.js"></script>
        <script type="text/javascript" src="src/data/KeyedValues2DDataset.js"></script>
        <script type="text/javascript" src="src/data/Range.js"></script>
        <script type="text/javascript" src="src/data/KeyedValues3DDataset.js"></script>
        <script type="text/javascript" src="src/data/StandardXYDataset.js"></script>
        <script type="text/javascript" src="src/data/XYDatasetUtils.js"></script>
        <script type="text/javascript" src="src/graphics/Anchor2D.js"></script>
        <script type="text/javascript" src="src/graphics/Color.js"></script>
        <script type="text/javascript" src="src/Colors.js"></script>
        <script type="text/javascript" src="src/graphics/Dimension.js"></script>
        <script type="text/javascript" src="src/graphics/Fit2D.js"></script>
        <script type="text/javascript" src="src/graphics/Font.js"></script>
        <script type="text/javascript" src="src/graphics/HAlign.js"></script>
        <script type="text/javascript" src="src/graphics/Insets.js"></script>
        <script type="text/javascript" src="src/graphics/LineCap.js"></script>
        <script type="text/javascript" src="src/graphics/LineJoin.js"></script>
        <script type="text/javascript" src="src/graphics/Offset2D.js"></script>
        <script type="text/javascript" src="src/graphics/Point2D.js"></script>
        <script type="text/javascript" src="src/graphics/RefPt2D.js"></script>
        <script type="text/javascript" src="src/graphics/Shape.js"></script>
        <script type="text/javascript" src="src/graphics/Stroke.js"></script>
        <script type="text/javascript" src="src/graphics/Rectangle.js"></script>
        <script type="text/javascript" src="src/graphics/RectangleEdge.js"></script>
        <script type="text/javascript" src="src/graphics/Scale2D.js"></script>
        <script type="text/javascript" src="src/graphics/SVGLayer.js"></script>
        <script type="text/javascript" src="src/graphics/BaseContext2D.js"></script>
        <script type="text/javascript" src="src/graphics/SVGContext2D.js"></script>
        <script type="text/javascript" src="src/graphics/TextAnchor.js"></script>
        <script type="text/javascript" src="src/graphics/Transform.js"></script>
        <script type="text/javascript" src="src/interaction/Modifier.js"></script>
        <script type="text/javascript" src="src/interaction/BaseMouseHandler.js"></script>
        <script type="text/javascript" src="src/interaction/LogEventHandler.js"></script>
        <script type="text/javascript" src="src/interaction/PanHandler.js"></script>
        <script type="text/javascript" src="src/interaction/WheelHandler.js"></script>
        <script type="text/javascript" src="src/interaction/ZoomHandler.js"></script>
        <script type="text/javascript" src="src/legend/LegendBuilder.js"></script>
        <script type="text/javascript" src="src/legend/LegendItemInfo.js"></script>
        <script type="text/javascript" src="src/legend/StandardLegendBuilder.js"></script>
        <script type="text/javascript" src="src/legend/FixedLegendBuilder.js"></script>
        <script type="text/javascript" src="src/axis/LinearAxis.js"></script>
        <script type="text/javascript" src="src/axis/SymbolAxis.js"></script>
        <script type="text/javascript" src="src/plot/XYPlot.js"></script>
        <script type="text/javascript" src="src/renderer/ColorSource.js"></script>
        <script type="text/javascript" src="src/renderer/BaseXYRenderer.js"></script>
        <script type="text/javascript" src="src/renderer/ScatterRenderer.js"></script>
        <script type="text/javascript" src="src/table/BaseElement.js"></script>
        <script type="text/javascript" src="src/table/FlowElement.js"></script>
        <script type="text/javascript" src="src/table/GridElement.js"></script>
        <script type="text/javascript" src="src/table/RectangleElement.js"></script>
        <script type="text/javascript" src="src/table/StandardRectanglePainter.js"></script>
        <script type="text/javascript" src="src/table/TextElement.js"></script>
        <script type="text/javascript" src="src/Chart.js"></script>
        
        <style>       
            .chart_container { background-color:yellow; height: 100%; width: 100%; }
            body { margin: 0; border: 2px; padding: 5px; }
            .row, .col { overflow: hidden; position: absolute; }
            .row { left: 0; right: 0; }
            .col { top: 0; bottom: 0; }
            .scroll-x { overflow-x: none; }
            .scroll-y { overflow-y: none; }

            .header.row { height: 105px; top: 0; background-color:yellow}
            .body.row { background-color:red; top: 105px; bottom: 50px;}
            .footer.row { height: 50px; bottom: 0; background-color:yellow}
        </style>
    </head>
    <body onload="installChart();">
        <script type="application/javascript">
            function installChart() {
                var source = new jsfc.KeyedValues2DDataset();
                source.add("R1", "C1", 1.0);
                source.add("R1", "C2", 1.0);
                source.add("R2", "C1", 5.0);
                source.add("R2", "C2", 5.0);
                source.add("R3", "C1", 2.0);
                source.add("R3", "C2", 4.0);
                source.add("R4", "C1", 4.0);
                source.add("R4", "C2", 2.0);
                var symbols1 = [{ "symbol": "A", "value": 1.0},
                        { "symbol": "B", "value": 2.0},
                        { "symbol": "C", "value": 3.0},
                        { "symbol": "D", "value": 4.0},
                        { "symbol": "E", "value": 5.0}];
                source.setColumnProperty("C1", "symbols", symbols1);
                var symbols2 = [{ "symbol": "V", "value": 1.0},
                        { "symbol": "W", "value": 2.0},
                        { "symbol": "X", "value": 3.0},
                        { "symbol": "Y", "value": 4.0},
                        { "symbol": "Z", "value": 5.0}];
                source.setColumnProperty("C2", "symbols", symbols2);
                var dataset = jsfc.DatasetUtils.extractXYDatasetFromColumns2D(
                        source, "C1", "C2");
                
//                var dataset = new jsfc.StandardXYDataset();
//                var factor = 100;
//                for (var i = 0; i < 200; i++) {
//                    dataset.add("Series 1", Math.random() * factor + 5, 
//                          Math.random() * factor + 5);
//                }
//                var itemKey = dataset.getItemKey(0, 3);
//                dataset.setProperty("x-symbols", 
//                        [ { "symbol": "Twenty", "value": 20 },
//                          { "symbol": "Fifty", "value": 50 },
//                          { "symbol": "Ninety Five", "value": 95} ]);
//                dataset.setProperty("y-symbols", 
//                        [ { "symbol": "Thirty", "value": 30 },
//                          { "symbol": "Eighty", "value": 80 } ]);
//       
//                dataset.setItemProperty("Series 1", itemKey, "color", "#FF0000");
//                
                var plot = new jsfc.XYPlot(dataset);
                plot.setAxisOffsets(new jsfc.Insets(4, 4, 4, 4));
                var xSymbolAxis = new jsfc.LinearAxis("X (symbolic)");
//                xSymbolAxis.addSymbol("Twenty", 20);
//                xSymbolAxis.addSymbol("Fifty", 50);
//                xSymbolAxis.addSymbol("Ninety", 90);
                plot.setXAxis(xSymbolAxis);
                var ySymbolAxis = new jsfc.LinearAxis("Y (symbolic)");
//                ySymbolAxis.addSymbol("Thirty", 30);
//                ySymbolAxis.addSymbol("Eighty", 80);
                plot.setYAxis(ySymbolAxis);
                
                plot.renderer = new jsfc.ScatterRenderer(plot);
                var chart = new jsfc.Chart(plot);
                var titleAnchor = new jsfc.Anchor2D(jsfc.RefPt2D.TOP_LEFT);
                chart.setTitleAnchor(titleAnchor);
                chart.setTitle("Scatter Chart in SVG", "http://www.jfree.org/", 
                        titleAnchor);    
                //var canvas = document.getElementById("chart_canvas");
                chart.setSize(600, 400);
                var svg = document.getElementById("chart_svg");
                document.chartManager = new jsfc.ChartManager(svg, chart);
                document.chartManager.refreshDisplay();                
                var win = document.defaultView || document.parentWindow;
                win.onresize = resize;
            };
            function resize(evt) {
                var element = document.getElementById("scatter_chart_1");
                var w = Math.max(300, element.clientWidth);
                var h = Math.max(200, element.clientHeight);
                document.chartManager.getChart().setSize(w, h);
                document.chartManager.refreshDisplay();
            }
            
        </script>   
        <div class="header row">
            <h4>Resizing Chart Demo:</h4>
            <p>In this demo we have a chart that resizes according to the resizing
                of its container.</p>
        </div>
        <div class="body row scroll-x scroll-y">
            <div id="scatter_chart_1" class="chart_container">
<!--        <canvas id="chart_canvas" width="600" height="400"></canvas>-->
                <svg id="chart_svg"></svg>                
            </div>
        </div>
        <div class="footer row">
            <p id="debug">This is a footer, part of the HTML not the chart.</p>
            
        </div>
    </body>
</html>
